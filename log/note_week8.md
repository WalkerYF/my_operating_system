# 这周操作系统要完成的任务

我想把内核独立成一个进程，或者几个进程，然后使用fork系统调用和exec系统调用执行用户程序。
下面是具体的修改方案

1. 用户进程该如何调用内核过程？在内核作为一个进程的情况下？
1. 进程控制块放在了内核中，这样带来的问题是对于生成子进程的时候，用户进程无法直接通过修改PCB来产生进程之间的父子关系。

## 搭建操作系统框架

如何进入保护模式？
还有使用硬盘，软盘？

进入保护模式，只是操作系统漫漫长路的第一步，进入保护模式对我而言并不是问题，问题在于操作系统各个模块之间的关系我需要如何处理？

我要如何组织设备驱动程序？

还是主要参考orange吧

## 在原有的实模式系统下

1. 保留boot，loader，保留FAT16文件系统。
1. 在loader中通过读取root表的方式读取系统内核。
1. 系统内核位置比较充裕，在前面放一段初始化代码用于进入保护模式吧！

### 进入保护模式前：

1. 初始化GDT表，并使用lgdt指令加载gdt
    1. 这里我希望能够包装一个函数，这个函数可以用于初始化GDT表
    1. 同时还需要对GDT表中各项的属性做一个包装，使用宏的方式

### 现在已经进入保护模式