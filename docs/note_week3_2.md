# 操作系统week3-2

之前花了挺长时间弄清楚了如何将C和汇编混合编译并放入扇区使用虚拟机运行。
现在先看看这个周末要把这个操作系统开发到什么程度吧。

## 想法

跑步进入保护模式

## 各部件分工

其实我发现现在我还不清楚各部件的分工，还有内存的安排，内核放哪？gdt表放哪？在进入保护模式前
这里先明确一下。

loader：
    只做引导功能，将内核加载进内存的0x10000的区域。
    并且进入保护模式，初始化gdt，先完成几项。
    指定内核代码段，数据段，栈段的位置，写成常数，这个应该在loader中初始化段表的时候完成。
    然后跳入内核。

kernel:加载到0x10000
    已经进入保护模式了。
    内核应该要做什么？我暂时的作用就是通过按键加载用户程序到内存指定位置。还有实现关机。
    那应该要怎么实现呢？由于我已经进入了保护模式，原有的bios中断已经不再能够使用，我是不是要设置各种IDT，可能还要重新设置GDT？

用户程序：指定加载到0x100000处
    命令行终端，属于一个用户程序（可以说是root级别）。
    通过包含库文件，里面可以通过调用各种系统调用，实现各种功能。

1. 增加段描述符


bash:
    命令行终端，应该是运行在操作系统上的一个程序。

实现什么库函数：

## 记录

### 一个问题：

call时，地址会push进栈中，这个时候是如何进栈的？是高字节先进吗，还是低字节先进？